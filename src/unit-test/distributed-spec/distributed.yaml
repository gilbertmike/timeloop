NOC:
    topo: Mesh
    dims:
        - x
        - y
    constraints:
        - 0 <= x < 2
        - 0 <= y < 3
    affine: | 
        {
            [NOC[x, y] -> NOC[x', y']] -> hops[(x - x') + (y - y')] : 
                x >= x' and y >= y';
            [NOC[x, y] -> NOC[x', y']] -> hops[-(x - x') + -(y - y')] : 
                x < x' and y < y';
            [NOC[x, y] -> NOC[x', y']] -> hops[-(x - x') + (y - y')] : 
                x < x' and y >= y';
            [NOC[x, y] -> NOC[x', y']] -> hops[(x - x') + -(y - y')] : 
                x >= x' and y < y'
        }
    domain_restriction: |
        {
            [NOC[x, y] -> NOC[x', y']] -> hops[(x - x') + (y - y')] : 
                x >= x' and y >= y' and 0 <= x < 2 and 0 <= y < 3;
            [NOC[x, y] -> NOC[x', y']] -> hops[-(x - x') + (y - y')] : 
                x < x' and y >= y' and 0 <= x < 2 and 0 <= y < 3;
            [NOC[x, y] -> NOC[x', y']] -> hops[(x - x') + -(y - y')] : 
                x >= x' and y < y' and 0 <= x < 2 and 0 <= y < 3;
            [NOC[x, y] -> NOC[x', y']] -> hops[-(x - x') + -(y - y')] : 
                x < x' and y < y' and 0 <= x < 2 and 0 <= y < 3
        }
NOC:
    topo: Mesh
    dims:
        - x
        - y
        - z
    constraints:
        - 0 <= x < 2027
        - 0 <= y < 2029
        - 0 <= z < 17
    affine: |
        { 
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ (x - x') + (y - y') + (z - z') ] :
                x >= x' and y >= y' and z >= z';
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ (x - x') + (y - y') - (z - z') ] :
                x >= x' and y >= y' and z < z';
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ (x - x') - (y - y') + (z - z') ] :
                x >= x' and y < y' and z >= z';
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ -(x - x') + (y - y') + (z - z') ] :
                x < x' and y >= y' and z >= z';
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ -(x - x') - (y - y') + (z - z') ] :
                x < x' and y < y' and z >= z';
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ (x - x') - (y - y') - (z - z') ] :
                x >= x' and y < y' and z < z';
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ -(x - x') + (y - y') - (z - z') ] :
                x < x' and y >= y' and z < z';
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ -(x - x') - (y - y') - (z - z') ] :
                x < x' and y < y' and z < z'
        }
    domain_restriction: |  
        { 
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ (x - x') + (y - y') + (z - z') ] :
                x >= x' and y >= y' and z >= z' and 0 <= x < 2027 and 0 <= y < 2029 and 0 <= z < 17;
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ (x - x') + (y - y') - (z - z') ] :
                x >= x' and y >= y' and z < z' and 0 <= x < 2027 and 0 <= y < 2029 and 0 <= z < 17;
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ (x - x') - (y - y') + (z - z') ] :
                x >= x' and y < y' and z >= z' and 0 <= x < 2027 and 0 <= y < 2029 and 0 <= z < 17;
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ -(x - x') + (y - y') + (z - z') ] :
                x < x' and y >= y' and z >= z' and 0 <= x < 2027 and 0 <= y < 2029 and 0 <= z < 17;
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ -(x - x') - (y - y') + (z - z') ] :
                x < x' and y < y' and z >= z' and 0 <= x < 2027 and 0 <= y < 2029 and 0 <= z < 17;
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ (x - x') - (y - y') - (z - z') ] :
                x >= x' and y < y' and z < z' and 0 <= x < 2027 and 0 <= y < 2029 and 0 <= z < 17;
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ -(x - x') + (y - y') - (z - z') ] :
                x < x' and y >= y' and z < z' and 0 <= x < 2027 and 0 <= y < 2029 and 0 <= z < 17;
            [NOC[x, y, z] -> NOC[x', y', z']] -> hops[ -(x - x') - (y - y') - (z - z') ] :
                x < x' and y < y' and z < z' and 0 <= x < 2027 and 0 <= y < 2029 and 0 <= z < 17
        }
